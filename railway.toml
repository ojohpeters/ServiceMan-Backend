# Simple deployment configuration for Railway
# This bypasses Nixpacks build issues

[build]
builder = "NIXPACKS"

[deploy]
startCommand = "pip install -r requirements.txt && python manage.py migrate && python manage.py collectstatic --noinput && gunicorn config.wsgi:application --bind 0.0.0.0:$PORT --workers 2 --timeout 120"
healthcheckPath = "/api/services/categories/"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[variables]
DJANGO_SETTINGS_MODULE = "config.settings.production"